<div class="form-group">
  <input type="hidden" name="post[category_ids][]" value="">
  <div class="problem-choices">
    <% Category.all.each do |category| %>
      <input type="radio" style="display: none;" value="<%= category.id %>" name="post[category_ids][]" id="post_category_ids_<%= category.id %>">
      <label class="problem-choice" for="post_category_ids_<%= category.id %>">
        <%= category.name %>
      </label>
    <% end %>
   </div>
</div>

<script>
  const choices = document.querySelectorAll('.problem-choice');
  console.log(choices);

  choices.forEach( choice =>
    choice.addEventListener("click", (event) => {
      console.log(event);
      const active = document.querySelector('.active');
      event.currentTarget.classList.toggle('active');
      if (active !== null) {
        active.classList.remove('active');
      }
    })
  );
</script>
